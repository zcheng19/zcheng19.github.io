---
layout:     post
title:      LTE无线网络中的时频资源
subtitle:   TDD和FDD模式下的时间和频率结构
date:       2022-07-02
author:     zcheng19
header-img: img/post-bg-rwd.jpg
catalog: true
tags:
    - Cellular Networks
---

## 概述

LTE无线网络的时隙和频率资源是LTE空中接口(空口)上需要调度的资源。时频结构等同于一个二维网格，横坐标是时间，纵坐标是频率，单位时间和单位频率的交叉点构成了一个资源颗粒RE，多个资源颗粒拼成一个资源块RB。在LTE系统中，单位时长对应一个OFDM符号的长度，单位频率对应子载波。LTE系统中需要处理的各种信号(物理层产生)和信息(物理层、链路层、网络层、应用层产生)需要分别占据不同的时频网格位置，其中，信号包括参考信号(导频信号)和同步信号(终端与基站同步)，信息包括控制信息(系统配置、数据格式、业务调度等底层和上层信令)和业务信息(用户的业务数据)。

在LTE的全双工方式中，TDD和FDD两种模式所分配的无线资源(时频网格)可用位置在时间上有明显差别，需要分开讨论。FDD模式下，通信设备同时使用两个频点工作，一个频点用于发射，另一个频点用于接收；TDD模式下，通信设备使用同一个频点进行接收和发送，在不同的时间片上区分上下行链路。以下具体介绍FDD和TDD的时频结构。

## FDD的时间结构

FDD无线帧的时间结构分为三个层次，分别是无线帧(radio frame)、子帧(subframe)和时隙(slot)。其中，无线帧是LTE时间结构中最大的单位，时长为10ms，无线帧的下一级时间单位是子帧，每个子帧时长为1ms，即10个子帧组成一个无线帧。LTE中与业务相关的资源调度以子帧为单位，即一个子帧等于一个传输间隔TTI(Transport Time Interval)，FDD模式下每个子帧都可以同时传输上行和下行的信息。时隙是LTE时间结构的基本单位，每个时隙时长0.5ms，2个时隙组成一个子帧。LTE系统的同步信号、参考信号、控制信道、加扰过程都与时隙相关。FDD帧结构如下图所示。

![](https://p69.f3.n0.cdn.getcloudapp.com/items/6quzEpoB/f4b8d8c0-3b68-432d-9888-291a37a51455.png?v=383bac1781f61bac6f6f305fdc325264)

OFDM符号是最小的时间单位，LTE系统中一个时隙包含7个OFDM符号(常规CP)，相邻子载波间隔等于一个基波的周期15kHz，所以N个子载波的频率带宽等于$15\times N$ kHz。

## TDD的时间结构

TDD时间结构中，无线帧10ms，半帧5ms，子帧1ms(一个半帧包含5个子帧)，时隙0.5ms。引入半帧的目的是与TD-SCDMA系统兼容。在LTE规范TS36.211中定义了7种TDD子帧上下行配置组合，如下表所示，D代表下行子帧，U代表上行子帧，S代表特殊子帧。在实际的TD-LTE网络中，目前只采用了配置1和配置2，称为2:2和1:3配置，代表一个半帧中上行子帧和下行子帧的数量。

|配置方式|0|1|2|3|4|5|6|7|8|9|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0|D|S|U|U|U|D|S|U|U|U|
|1 (2:2)|D|S|U|U|D|D|S|U|U|D|
|2 (1:3)|D|S|U|D|D|D|S|U|D|D|
|3|D|S|U|U|U|D|D|D|D|D|
|4|D|S|U|U|D|D|D|D|D|D|
|5|D|S|U|D|D|D|D|D|D|D|
|6|D|S|U|U|U|D|S|U|U|D|

也就是说TDD模式下，一般每个子帧只能有一种配置，要么上行，要么下行；特殊子帧虽然可以在一个子帧中既有上行也有下行，但也是分时隙的，以OFDM符号长度为单位来划分出9种上下行配比方式。

## 频率结构

子载波是LTE系统频率的基本结构单位，为了方便描述，在LTE系统中把时频网格中12个编号连续的子载波组合在一起，构成一个资源块RB，即一个子载波组，规范TS36.211中定义RB的时长是1个时隙0.5ms。在LTE系统中，为每个用户分配时频资源时，以调度块SB为单位，一个调度块的时间范围是一个子帧(传输间隔TTI)，它由两个处在相同频率范围的RB组成，如下图所示。

![SB、RB、RE之间的关系](https://p69.f3.n0.cdn.getcloudapp.com/items/xQuwzm8G/67854253-a138-4a5d-a084-70086e22c22e.png?source=viewer&v=1c88c6d9309d88790d52adc31eba0c4f)

子载波间隔与子载波数量共同决定了频点带宽，同时由于OFDM符号的时长$T_u$等于频率(子载波间隔)的倒数，所以子载波间隔还决定了一个子帧能够包含多少个OFDM符号。LTE系统中定义了6种不同的频点带宽，其中RB、子载波数量与频点带宽之间的关系如下表所示。

|RB数量|100|75|50|25|15|6|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|子载波数量|1200|900|600|300|180|72|
|频点带宽 (MHz)|20|15|10|5|3|1.4|

## 用户时频资源的分配

总结来看，无论是TDD还是FDD方式，对于用户的资源分配都是需要联合考虑时域和频域的，区别是针对于上下行分配频点的方式不同。调度块的分配示意图如下所示。TDD调度块的分配：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/6quzEnKe/f54728c3-2c73-40cb-8ff5-c764681f1ba7.jpg?source=viewer&v=cd882c40ef5f5c43a971232f10d27960)

FDD调度块的分配：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/8Lu0pKm4/aa65f56b-f8d5-4799-94d7-44a038eee9db.jpg?v=0cb8702485ec7232232d9cdb0b049944)

其中，时频调度块SB是分配的基本单位，一个SB占据一个TTI的时长，包含两个RB是时长，每个用户可以分配一个或多个SB。TDD模式下，需要按照子帧区分上行和下行分配用户，且上下行共用一个频点，FDD模式下，有两个频点，每个子帧都可以单独调度上下行频谱资源。

## 下行峰值速率的计算方法

给用户分配好SB之后，还需要度量用户传输数据的峰值速率。我们可以使用调度块中每个RE所能承载的数据量来推算，业务数据量的计算公式为：

业务数据量=调度块中业务信道可用RE数量 x 每个RE承载的比特数 x 分配的调度块数量。

接下来，需要研究业务信道中可用的RE数量、每个RE比特数，以及分配的调度块数量取值。

### 1. 业务信道可用的RE数量

业务信道可用的RE数量与下行调度块有关，常见的双天线(端口采用2x2 MIMO工作方式)端口下行调度块时频结构如下图所示：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/NQulxXbL/5acd700b-0900-4332-aec7-c72db20d2556.jpg?source=viewer&v=4dbd3d41451a52e4a4cfe9ca49eded3c)


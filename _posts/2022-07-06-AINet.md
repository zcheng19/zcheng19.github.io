---
layout:     post
title:      智能化网络架构
subtitle:   网络架构中的智能化设计
date:       2022-07-06
author:     zcheng19
header-img: img/cat-bg-a.jpg
catalog: true
tags:
    - AINets
---

## 前言

当前，网络服务智能化需求越来越高，如何在网络中引入智能是一个亟待解决的问题，典型的智能化架构包括基于意图的网络(Intent-based Network, IBN)、知识定义网络(Knowledge-defined Network, KDN)、人工智能物联网(Artificial Intelligent Internet of Things, AIOT)、智联网(AI enabled Network, AIEN)等。下面来介绍各种智能网络的典型架构。

## 基于意图的网络IBN

IBN网络由初创公司Apstra率先推出，但现在正在被网络巨头思科采用。IBN就是让网络管理员能够定义他们想要的网络，并且拥有一个自动化的网络管理平台来穿点所需的状态并执行策略。Gartner提出的关于IBN的定义包括以下四个部分：

* **转译和验证:** 系统从最终用户获取更高级别的业务策略，并将其转换为必要的网络配置，生成并验证最终的设计和配置以保证正确性。
* **自动化实施:** 系统可以在现有网络基础设施上配置适当的网络变更，通过网络自动化或网络编排完成
* **网络状态感知:** 系统为其管理控制下的系统提供实时网络状态，并且是协议和传输不可知的。
* **保障和自动化优化/补救:** 系统持续验证原始业务意图得到实现，并且可以在所需意图无法实现时采取纠正措施。

IBN的总体架构如下图所示：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/v1uOgk9P/97bd159f-303c-4836-883a-7bc04827a7cd.png?v=28c41a78dda1f6d6e209888b97c8e928)

IBN网络从总体上分为了三层，分别是业务层、意图层、网络层。业务层面向用户，为用户提供需求表述的平台；意图层连接了业务层和网络层，功能包括用户原始需求和网络状态收集、用户需求转译、资源合并映射、配置策略生成和验证等；网络层包含了不同的网元节点，负责执行下发的策略。具体步骤描述如下：

首先，用户会将需求发给知识库，同时知识库会提取数据库中实时网络状态信息，并将用户需求转译成网络资源映射，例如带宽需求、传输时延等。当代理向知识库请求数据时，知识库再将转译后的信息发送给代理，同时代理从数据库获取网络的具体模型，例如网络拓扑、链路状态等，进行计算和推理，生成网络配置策略，下发到网络层进行执行。

上述描述为知识库向代理交付资源映射，代理决策之后会直接在网络中部署，得到网络的真实反馈后再返回到知识库，这种方式比较像在线的强化学习算法，没有离线的经验池做过渡，在此基础上可以考虑引入离线协商的过程，将知识库和代理作为两个智能体，知识库主要用于评判用户体验QoE，而代理用于评判网络的服务质量QoS，当代理生成配置策略后不直接下发给网络层，而是反馈给知识库进行网络仿真得到QoE的指标，进而转发给代理再进行协商，代理根据QoE和自身的QoS指标再进一步生成新的策略，与知识库再协商，彼此得到满意的协商结果之后，再下发给网络层，这样可以得到更高质量的均衡化结果。

## 知识定义网络KDN

KDN的基本架构图如下所示：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/v1uOgw8J/504066bf-d1ae-47e4-823e-20e6f5b933c9.png?v=1952e62d05de5dcde6faad3d3f018dc0)

KDN的架构包括数据平面、控制平面、管理平面和知识平面，其中数据平面包含了各种网元转发设备，控制平面、管理平面和知识平面都位于控制器中。控制平面负责与数据平面交互数据，并更新策略，该策略是由知识平面决策下发的；管理平面负责管理网络拓扑、网络应用、网络设备配置等，并进行网络状态检测和分析，管理平面的决策也是由知识平面下发的；知识平面负责收集控制平面和管理平面的数据，并根据部署在该平面中的机器学习智能算法决策优化网络性能，并将决策下发给控制平面和管理平面。

在此基础上，又提出了基于SDN架构的集中式、分布式、集中分布式KDN架构，如下图所示：

![](https://p69.f3.n0.cdn.getcloudapp.com/items/llu0EqRw/bd25c53b-205c-467b-9247-8ea8da05dcb5.png?source=viewer&v=97c9fbb6ccd2f296c2eae8c2b244174f)

![](https://p69.f3.n0.cdn.getcloudapp.com/items/OAu865m8/d77bfbd9-facf-44b2-9963-3bd80039fdf2.png?v=5cf3100345fd5eef35e52c6bbf5f787a)

![](https://p69.f3.n0.cdn.getcloudapp.com/items/E0uygkWk/a2c8dbfc-3977-4339-a2d3-f2074470c927.png?v=92defcda067d1a758ab220100a8b09b4)

对于集中式KDN，网络中的所有信息均由SDN控制器收集，并通过知识平面决策动作；对于分布式KDN，不考虑集中控制器，数据平面中的每个节点都具有智能性，各个节点中的知识平面通过本地的数据和周围的网络环境贪婪计算决策，并与其他节点共享知识；在集中分布式KDN架构下，集中控制器和各个网元节点都具备智能性，有助于边缘和中心的互相协商与同步，得到更加trade-off的结果，另外该架构也支持集中式或分布式的灵活切换。相比于IBN网络，KDN网络更关注于网络侧的智能，对于用户意图的关注度不高。

## AIOT

AIOT的网络架构根据应用场景的不同，也会有多种不同的设计方式，例如基于SDN的架构、MobilityFirst架构、CloudThings架构、云-边-端协同架构等。以下具体介绍这些架构。

### 云-边-端协同架构

一种典型的计算架构如下图所示：

([![AIOTComputing.png](https://i.postimg.cc/QC0P93zw/AIOTComputing.png)](https://postimg.cc/SYYV3wkf))

该架构主要从算力和网络性能的角度出发，将其分为了三层，分别是边缘计算层、雾计算层、云计算层，其中，边缘计算层的功能是感知、控制和执行，包含了传感器和执行器；雾计算层主要部署于雾节点上，雾节点包括hub、路由器、网关等；云计算层支持不同的应用服务。边缘计算层和雾计算层是分布式的，而云计算层是集中式的。在cloud上提供的计算和存储资源最大，一般部署重量级计算框架，来自传感器的数据需要通过网络才能上传到云计算层，所以cloud虽然计算资源丰富，但是数据的在网传输时间会受到网络性能的影响，所需要的能量开销也很大；fog侧是指云边缘，可以认为是在局域网内，所以安全性较高，数据在网传输时间较短，但是由于fog侧的计算容量不如cloud大，所以需要部署轻量级计算框架，计算时延会较大；在边缘测，计算设备更贴近thing，所以数据的传输时延最小，但边缘测的计算资源和容量会更小，计算时延很大。
